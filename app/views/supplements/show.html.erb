<div class="container">
  <div class="carousel-window">
    <div id="carousel-1" class="carousel slide" data-bs-ride="false">
      <ol class="carousel-indicators">
        <li class="active" data-bs-target="#carousel-1" data-bs-slide-to="0"></li>
        <li data-bs-target="#carousel-1" data-bs-slide-to="1"></li>
        <li data-bs-target="#carousel-1" data-bs-slide-to="2"></li>
      </ol>
      <div class="carousel-inner">
        <% @supplement.images.each_with_index do |image, index| %>
          <div class="carousel-item <% if index == 0 %> active <% end %>" >
            <%= cl_image_tag image.key, :cloud_name => "dach7c7ct", height: 300, width: 300 %>
          </div>
        <% end %>
      </div>
      <a class="carousel-control-prev" href="#carousel-1" role="button" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
        <span class="visually-hidden">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carousel-1" role="button" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
        <span class="visually-hidden">Next</span>
      </a>
    </div>
  </div>

  <h3><%= @supplement.name %></h3> <br>

  <div class="conainer tabs">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab" aria-controls="description" aria-selected="true">Description</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="instructions-tab" data-bs-toggle="tab" data-bs-target="#instructions" type="button" role="tab" aria-controls="instructions" aria-selected="false">Instructions</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="supply-tab" data-bs-toggle="tab" data-bs-target="#supply" type="button" role="tab" aria-controls="supply" aria-selected="false">Supply</button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
        <br><h4 class="panel-title">What this supplement is good for:</h4><br>
        <p class="tab-content"><%= @supplement.description %></p>
      </div>
      <div class="tab-pane fade" id="instructions" role="tabpanel" aria-labelledby="instructions-tab">
        <br><h4 class="panel-title">How to take this supplement:</h4><br>
        <h4><%= @supplement.frequency %></h4><label for="frequency">times:</label>
        <select id="frequency" name="frequency">
          <option value="daily">daily</option>
          <option value="weekly">weekly</option>
        </select>
        <select id="instructions" name="instructions">
          <option value="with-meal">with a meal</option>
          <option value="without-meal">before or after a meal</option>
          <option value="with-water">with a glas of water</option>
        </select>
      </div>
      <div class="tab-pane fade" id="supply" role="tabpanel" aria-labelledby="supply-tab">
        <br><h4 class="panel-title">How much you have left:</h4><br>
        <p><strong><%= @supplement.quantity %></strong> <%= @supplement.quantity == 1 ? 'pill left' : 'pills left' %></p>
      </div>
    </div>
</div>

<br><div class="container change-supp">
  <%= link_to 'Edit', edit_supplement_path(@supplement), class: "btn btn-primary" %>
  <%= link_to 'Delete', supplement_path(@supplement), class: "btn btn-primary", data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
</div>


<div class='container reviews'>
  <h2>Reviews</h2>
  <div>
    <%= simple_form_for [@supplement, @review] do |f| %>
      <%= f.input :content %>
      <%= f.input :rating %>
      <%= f.submit "Submit review", class: "btn btn-primary", :style => "margin-bottom: 25px; margin-top: 10px; font-size: 20px;" %>
    <% end %>
  </div>
</div>
