<div class="container">
  <%= render "shared/carousel" %>

  <h3><%= @supplement.name %></h3> <br>

  <div class="conainer tabs">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="description-tab" data-bs-toggle="tab" data-bs-target="#description" type="button" role="tab" aria-controls="description" aria-selected="true">Description</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="supply-tab" data-bs-toggle="tab" data-bs-target="#supply" type="button" role="tab" aria-controls="supply" aria-selected="false">Supply</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="reviews-tab" data-bs-toggle="tab" data-bs-target="#reviews" type="button" role="tab" aria-controls="reviews" aria-selected="true">Reviews</button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="description" role="tabpanel" aria-labelledby="description-tab">
        <br><h4 class="panel-title">What this supplement is good for:</h4><br>
        <p class="tab-content"><%= @supplement.description %></p>
      </div>
      <div class="tab-pane fade" id="supply" role="tabpanel" aria-labelledby="supply-tab">
        <br><h4 class="panel-title">How much you have left:</h4><br>
        <p><strong><%= @supplement.quantity %></strong> <%= @supplement.quantity == 1 ? 'pill left' : 'pills left' %></p>
      </div>
      <div class="tab-pane fade" id="reviews" role="tabpanel" aria-labelledby="reviews-tab">
        <br><h3>Reviews</h3>
        <div>
          <% @supplement.reviews.each do |review| %>
            <%= review.content %><br>
            <% review.rating.times do %>
              <i class="fa-solid fa-star"></i>
            <% end %><br><br>
          <% end %>
        </div>
        <div>
          <%= simple_form_for [@supplement, @review] do |f| %>
            <%= f.input :content %>
            <div class='form-div'>
              <%= f.input :rating, as: :radio_buttons, collection: [1, 2, 3, 4, 5] %>
            </div>
            <%= f.submit "Submit review", class: "btn btn-primary", :style => "margin-bottom: 25px; margin-top: 10px; font-size: 20px;" %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>

<br><div class="container change-supp">
  <%= link_to 'Edit', edit_supplement_path(@supplement), class: "btn btn-primary" %>
  <%= link_to 'Delete', supplement_path(@supplement), class: "btn btn-primary", data: {turbo_method: :delete, turbo_confirm: "Are you sure?"} %>
</div>
